[{"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\index.js":"1","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\App.js":"2","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\reportWebVitals.js":"3","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\index.js":"4","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Aside.jsx":"5","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Dialog.jsx":"6","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Sender.jsx":"7","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Login.jsx":"8","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\User.jsx":"9","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\UserItem.jsx":"10","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Message.jsx":"11"},{"size":509,"mtime":1610447033839,"results":"12","hashOfConfig":"13"},{"size":3530,"mtime":1610708969219,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"13"},{"size":308,"mtime":1610444844664,"results":"16","hashOfConfig":"13"},{"size":758,"mtime":1610546910087,"results":"17","hashOfConfig":"13"},{"size":2368,"mtime":1610705039736,"results":"18","hashOfConfig":"13"},{"size":975,"mtime":1610631956234,"results":"19","hashOfConfig":"13"},{"size":591,"mtime":1610451550233,"results":"20","hashOfConfig":"13"},{"size":227,"mtime":1610465614724,"results":"21","hashOfConfig":"13"},{"size":366,"mtime":1610532523053,"results":"22","hashOfConfig":"13"},{"size":4454,"mtime":1610705462568,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"7gjlif",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"26"},"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\index.js",[],["50","51"],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\App.js",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\reportWebVitals.js",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\index.js",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Aside.jsx",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Dialog.jsx",["52","53","54","55"],"import React, {useEffect, useState, useCallback} from 'react';\r\nimport {Message} from \"./index\";\r\n\r\nconst Dialog = ({messages, userData, readMessage}) => {\r\n    const [messagesOffset, setMessagesOffset] = useState([])\r\n    //\r\n    // const getOffsetTop = useCallback((obj) => {\r\n    //\r\n    //     const msg = messagesOffset.find((el) => el.id === obj.id)\r\n    //     if (msg) return console.log('already added');\r\n    //\r\n    //     if (messagesOffset && messagesOffset.length >= 1) {\r\n    //\r\n    //         // remove duplicates\r\n    //         const filteredArr = [...new Map([...messagesOffset, obj].map(item => [item.id, item])).values()]\r\n    //         setMessagesOffset(filteredArr)\r\n    //     } else {\r\n    //         setMessagesOffset([...messagesOffset, obj])\r\n    //     }\r\n    // }, [messagesOffset])\r\n    //\r\n    //\r\n    // const onReadContent = useCallback((e) => {\r\n    //     let scrollTop = e.target.scrollTop + 550\r\n    //     const foundMessage = messagesOffset.find((i) => scrollTop > i.offsetTop) || null\r\n    //\r\n    //     if (foundMessage) {\r\n    //         const filteredMessagesOffset = messagesOffset.filter((i) => i.id !== foundMessage.id)\r\n    //         setMessagesOffset(filteredMessagesOffset)\r\n    //         readMessage(foundMessage.id)\r\n    //     }\r\n    //\r\n    // }, [messagesOffset])\r\n\r\n    // useEffect(() => {\r\n    //     const el = document.getElementById('dialogContainer')\r\n    //     if (el) {\r\n    //         el.addEventListener('scroll', onReadContent)\r\n    //         return () => el.removeEventListener('scroll', onReadContent)\r\n    //     }\r\n    // }, [onReadContent])\r\n\r\n\r\n    return (\r\n        <section className=\"dialog\">\r\n            <div className=\"container\">\r\n                <div className=\"dialog__wrapper\">\r\n                    <h1 className=\"dialog__title\">Chat</h1>\r\n                    <div className=\"dialog__content\" id=\"dialogContainer\">\r\n                        {messages && messages.reverse().map((item, index) => (\r\n                            <Message {...item} key={index} userData={userData}/> // getOffsetTop={getOffsetTop}\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n// , (prevProps, nextProps) => {\r\n//     return prevProps.messages.length === nextProps.messages.length;\r\n// })\r\n\r\nexport default Dialog;","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Sender.jsx",["56"],"import React, {useEffect} from 'react';\r\n\r\nconst Sender = ({onChangeMessage, sendMessage, message}) => {\r\n\r\n    const onSubmit = () => {\r\n        sendMessage()\r\n        const el = document.getElementById('senderInput')\r\n        el.focus()\r\n    }\r\n\r\n    const onPressEnter = (e) =>{\r\n        if(e.key !== 'Enter') return;\r\n        onSubmit()\r\n    }\r\n\r\n    return (\r\n        <section className='sender'>\r\n            <div className=\"container\">\r\n                <div className=\"sender__wrapper\">\r\n                    <div className=\"sender__input\" onKeyDown={onPressEnter}>\r\n                        <input id='senderInput' type=\"text\" placeholder='Type a new message' value={message}\r\n                               onChange={(e) => onChangeMessage(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"sender__btn\" onClick={onSubmit}>Send</div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Sender;\r\n","C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Login.jsx",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\User.jsx",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\UserItem.jsx",[],"C:\\Users\\olysi\\OneDrive\\Рабочий стол\\Work\\MERN chat\\chat\\client\\src\\components\\Message.jsx",["57"],"import React, {useEffect, useRef} from 'react';\r\n\r\nconst Message = ({author, authorId, userData, message, status, getOffsetTop, messageId}) => {\r\n    const messageRef = useRef(null)\r\n    //\r\n    // useEffect(() => {\r\n    //     console.log(status)\r\n    // }, [status])\r\n    //\r\n    // useEffect(() => {\r\n    //     console.log(message)\r\n    // }, [message])\r\n    //\r\n    // useEffect(() => {\r\n    //     if (authorId !== userData.id && status === 'sent') {\r\n    //         const offsetTop = messageRef.current.offsetTop\r\n    //         const obj = {\r\n    //             id: messageId,\r\n    //             offsetTop\r\n    //         }\r\n    //         getOffsetTop(obj)\r\n    //     }\r\n    //\r\n    //\r\n    // }, [messageId, message, authorId, status, userData.id, getOffsetTop])\r\n\r\n\r\n    useEffect(() => {\r\n        console.log('MESSAGE ', message)\r\n    }, [])\r\n\r\n    return (\r\n        <div ref={messageRef} className={`dialog__item ${authorId === userData.id ? 'dialog__item-my' : ''}`}>\r\n            <h4 className=\"dialog__item-name\">{author}</h4>\r\n            <div className=\"dialog__item-message\">\r\n                <h1>{status === 'read' ? 'READ' : 'SENT'}</h1>\r\n                <p className=\"dialog__item-message-text\">\r\n                    {message}\r\n                </p>\r\n                <div className=\"dialog__item-message-flex\">\r\n                    <div className=\"dialog__item-message-status\">\r\n                        {status === 'read' ?\r\n                            <svg id=\"Capa_1\" fill='#6588de' enableBackground=\"new 0 0 512 512\" height=\"15\"\r\n                                 viewBox=\"0 0 512 512\" width=\"15\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <g>\r\n                                    <path\r\n                                        d=\"m473.074 120.729-203.295 203.296-21.212-21.212 153.765-153.764-38.926-38.926-153.765 153.765-61.047-61.047-38.926 38.926 61.047 61.047-21.211 21.211-110.578-110.577-38.926 38.926 149.503 149.503 60.138-60.137 60.137 60.137 242.222-242.221z\"/>\r\n                                </g>\r\n                            </svg> : <svg version=\"1.1\" width='15' fill='#6588de' height='15' id=\"Layer_1\"\r\n                                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                                          xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n                                          y=\"0px\"\r\n                                          viewBox=\"0 0 512 512\" style={{enableBackground: \"new 0 0 512 512\"}}\r\n                                          xmlSpace=\"preserve\">\r\n                                <g>\r\n                                    <g>\r\n                                        <path d=\"M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0\r\n                       c-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7\r\n                       C514.5,101.703,514.499,85.494,504.502,75.496z\"/>\r\n                                    </g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                                <g>\r\n                                </g>\r\n                            </svg>}\r\n\r\n                    </div>\r\n                    <p className=\"dialog__item-message-time\">15:03</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;\r\n\r\n",{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":1,"column":16,"nodeType":"64","messageId":"65","endLine":1,"endColumn":25},{"ruleId":"62","severity":1,"message":"66","line":1,"column":37,"nodeType":"64","messageId":"65","endLine":1,"endColumn":48},{"ruleId":"62","severity":1,"message":"67","line":5,"column":12,"nodeType":"64","messageId":"65","endLine":5,"endColumn":26},{"ruleId":"62","severity":1,"message":"68","line":5,"column":28,"nodeType":"64","messageId":"65","endLine":5,"endColumn":45},{"ruleId":"62","severity":1,"message":"63","line":1,"column":16,"nodeType":"64","messageId":"65","endLine":1,"endColumn":25},{"ruleId":"69","severity":1,"message":"70","line":30,"column":8,"nodeType":"71","endLine":30,"endColumn":10,"suggestions":"72"},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useCallback' is defined but never used.","'messagesOffset' is assigned a value but never used.","'setMessagesOffset' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'message'. Either include it or remove the dependency array.","ArrayExpression",["75"],"no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},"Update the dependencies array to be: [message]",{"range":"78","text":"79"},[852,854],"[message]"]